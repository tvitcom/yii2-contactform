# yii2-contactform

Приложение на основе Yii2 фреймворка реализует Форма обратной связи предоставляет возможность пользователям сайта отправлять
сообщения владельцам сайта (на предопределенный E-mail). Все данные введенные пользователем сохраняются в БД
MySQL, также в базе данных сохраняются данные о IP пользователя и его браузере. 
Также возможно управление принятыми сообщениями - как то сортировка, удаление, изменение и создание. 
Приложение реализовано как результат выполнение тестового задания. 
Приложение рапространяется на основе Сreative Сommon Attribution-NonCommercial-ShareAlike 4.0 International  лицензии.

## Функционал приложения[^1]:
----------------------
- отправка сообщения владельцам сайта на определенный e-mail и в настроенную БД.
- просмотр принятых сообщений контактной формы (сортировка и паджинация).
- возможность отправки файлов фото и текстовых данных с принятыми ограничениями.

## Требования для работы приложения:
- PHP 5.6+ (PSR2/4);
- включен JavaScript в броузере пользователя сайта;
- Apache 2.4 / Nginx;
- установлены PHP-расширение PDO;
- UTF-16 кодировка файлов в том числе и в самой БД;
- git;
- smtp транспорт для отправки почтовых сообщений (к примеру ssmtp).

## Установка приложения:
* клонируем репозиторий в выбранную папку веб сервера (к примеру /var/www/contactform/);
* подключаем папку (где папка @app - считается папка в котором расположены файлы YII2 приложения) @app/web в качестве корневой для веб-сервера;
* создаем БД (к примеру contactform) и пользователя к ней (используется mysql-пользователь contactform с паролем: pass_to_contactform);
* прописываем подключение к используемой БД в файле:
```
@app/common/config/db.php
```
* импортируем в БД файл contactform_<date and time>.sql из папки:
```
@app/data
```
* Прописываем конфигурацию для самого ssmtp и в файле php.ini;
* Приложение должно быть готово к работе в тестовом YII_DEBUG режиме.

## Использование:
--------------
Для администрирования учётными записями предусмотрен начальный пользователь администрирования [^2].
- логин: admin
- пароль: pass_to_contactform

[^1]: Внимание - в процессе создания приложения возможна неправильная работа, отсутствие некоторого функционала и отсутствие безопасности данных.
[^2]: При публичном доступе приложения рекомендуется сменить пароль на более сложный и сменить в конфигурации значение параметра cookieValidationKey.
[^3]: Приложение работает в отладочном режиме поэтому рекомендуется перед публикайией на веб сервер сменить режим dev на prod.